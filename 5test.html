<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>امتحان علوم التربية (كتابي وتفاعلي)</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f4f6f8; margin: 0; padding: 15px; color: #333; line-height: 1.6; }
        .container { max-width: 850px; margin: 0 auto; background: white; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); min-height: 90vh; display: flex; flex-direction: column; }
        
        /* Header */
        header { background: #2c3e50; color: white; padding: 20px; text-align: center; border-radius: 10px 10px 0 0; }
        header h2 { margin: 0; font-size: 1.4em; }
        .progress-bar { height: 8px; background: #ecf0f1; margin-top: 15px; border-radius: 4px; overflow: hidden; }
        .fill { height: 100%; background: #27ae60; width: 0%; transition: width 0.4s; }

        /* Scenario Box */
        .scenario-container { padding: 20px; background: #fff8e1; border-bottom: 2px solid #fbc02d; font-size: 1.1em; color: #444; }
        .scenario-title { font-weight: bold; color: #f57f17; margin-bottom: 10px; display: block; text-decoration: underline; }
        
        /* Questions Area */
        .content { padding: 25px; flex-grow: 1; }
        .q-box { margin-bottom: 25px; }
        label { font-weight: bold; display: block; margin-bottom: 8px; color: #2c3e50; }
        
        /* Inputs */
        textarea { width: 100%; height: 70px; padding: 10px; border: 1px solid #ccc; border-radius: 6px; font-family: inherit; font-size: 1em; resize: vertical; background: #fff; }
        input[type="text"] { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 6px; font-family: inherit; }

        /* Correction View */
        .correction-box { background: #e8f5e9; padding: 20px; border-radius: 8px; border: 1px solid #c8e6c9; margin-top: 10px; display: none; }
        .model-answer { color: #2e7d32; font-weight: bold; margin-top: 5px; background: white; padding: 10px; border-radius: 5px; border-left: 4px solid #2e7d32; }
        
        /* Highlight styles */
        .highlight-yellow { background-color: #ffeb3b; padding: 2px 4px; border-radius: 3px; font-weight: bold; border: 1px solid #fdd835; color: #000; }
        .highlight-green { background-color: #a5d6a7; padding: 2px 4px; border-radius: 3px; font-weight: bold; border: 1px solid #81c784; color: #000; }
        
        /* Buttons */
        .btn { width: 100%; padding: 15px; border: none; border-radius: 6px; font-size: 1.1em; font-weight: bold; cursor: pointer; margin-top: 20px; transition: 0.2s; }
        .btn-check { background: #34495e; color: white; }
        .btn-check:hover { background: #2c3e50; }
        .btn-next { background: #27ae60; color: white; display: none; }
        
        /* Table */
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { border: 1px solid #bdc3c7; padding: 10px; text-align: right; vertical-align: top; }
        th { background: #f8f9fa; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h2 id="ex-title">تحميل التمرين...</h2>
        <div class="progress-bar"><div class="fill" id="progress"></div></div>
    </header>

    <div class="scenario-container">
        <span class="scenario-title">نص الوضعية:</span>
        <div id="scenario-text"></div>
    </div>

    <div class="content" id="quiz-area">
        <div class="q-box">
            <label>1. (تذكر) استخرج نظريات التعلم الواردة في النص:</label>
            <textarea placeholder="اكتب إجابتك هنا..."></textarea>
            <div class="correction-box" id="corr1">
                <div class="model-answer" id="ans1"></div>
            </div>
        </div>

        <div class="q-box">
            <label>2. (تذكر) اربط كل نظرية برائدها:</label>
            <textarea placeholder="مثال: النظرية كذا (العالم كذا)..."></textarea>
            <div class="correction-box" id="corr2">
                <div class="model-answer" id="ans2"></div>
            </div>
        </div>

        <div class="q-box">
            <label>3. (فهم) اشرح سبب نجاح أو فشل الطريقة الأولى في النص:</label>
            <textarea placeholder="لماذا لم تنجح الطريقة السلوكية مثلاً؟..."></textarea>
            <div class="correction-box" id="corr3">
                <div class="model-answer" id="ans3"></div>
            </div>
        </div>

        <div class="q-box">
            <label>4. (فهم) ما الفرق بين النظريتين الأساسيتين في النص؟</label>
            <textarea placeholder="قارن بينهما..."></textarea>
            <div class="correction-box" id="corr4">
                <div class="model-answer" id="ans4"></div>
            </div>
        </div>

        <div class="q-box">
            <label>5. (تحليل) املأ الجدول بتحليل أهم مشكلة في النص:</label>
            <table>
                <tr>
                    <th width="30%">المشكلة / العائق</th>
                    <th width="30%">المؤشر (الجملة الدالة)</th>
                    <th width="40%">التفسير النظري</th>
                </tr>
                <tr>
                    <td><input type="text" placeholder="حدد المشكلة..." id="user-prob"></td>
                    <td><input type="text" placeholder="استخرج الجملة..." id="user-ind"></td>
                    <td><textarea placeholder="فسر بنظرية..." style="height:50px;" id="user-exp"></textarea></td>
                </tr>
            </table>
            
            <div class="correction-box" id="corr5">
                <label style="color:#2e7d32; margin-top:10px;">التصحيح النموذجي للجدول:</label>
                <table style="background:white;">
                    <tr>
                        <td id="tbl-p"></td>
                        <td id="tbl-i"></td>
                        <td id="tbl-e"></td>
                    </tr>
                </table>
            </div>
        </div>

        <button class="btn btn-check" id="checkBtn" onclick="checkAnswers()">تحقق من الأجوبة</button>
        <button class="btn btn-next" id="nextBtn" onclick="nextExercise()">التمرين التالي</button>
    </div>
</div>

<script>
    // قاعدة البيانات: النصوص من PDF ومؤشراتها
    const db = [
        {
            title: "تمرين 1: اللغات (السلوكية vs البنائية)",
            // النص العادي
            text: `في درس اللغة الفرنسية، بدأ الأستاذ بتحفيظ التلاميذ قائمة مفردات عبر التكرار الجماعي ومنح نقاط للحفظ الجيد. لاحظ أنهم يحفظون الكلمات لكن يعجزون عن استخدامها في جمل. في الحصة التالية، غيّر الطريقة: عرض صوراً ووضعيات، وطلب منهم بناء الجمل بأنفسهم انطلاقاً من السياق.`,
            // النص الملون للتصحيح
            highlight: `في درس اللغة الفرنسية، بدأ الأستاذ بتحفيظ التلاميذ قائمة مفردات عبر <span class="highlight-yellow">التكرار الجماعي ومنح نقاط للحفظ الجيد</span>. لاحظ أنهم يحفظون الكلمات لكن <span class="highlight-yellow">يعجزون عن استخدامها في جمل</span>. في الحصة التالية، غيّر الطريقة: <span class="highlight-green">عرض صوراً ووضعيات، وطلب منهم بناء الجمل بأنفسهم</span>.`,
            a1: "النظرية السلوكية - النظرية البنائية.",
            a2: "السلوكية (سكنر) - البنائية (بياجي).",
            a3: "نجح التكرار في الحفظ الآلي (ذاكرة قصيرة المدى) لكنه فشل في بناء المعنى (الاستعمال)، لأن السلوكية تهمل السياق.",
            a4: "السلوكية: تعلم سلبي (حفظ). البنائية: تعلم نشط (بناء ذاتي).",
            tbl: { p: "العجز عن نقل التعلم", i: "يعجزون عن استخدامها في جمل", e: "محدودية السلوكية في بناء الكفايات." }
        },
        {
            title: "تمرين 2: العلوم (البنائية الاجتماعية)",
            text: `في درس الذوبان، لم يقدم الأستاذ المعلومة جاهزة، بل أعطى التلاميذ كؤوساً وملحاً وطلب منهم التجريب بأنفسهم. تلميذ يدعى "أنس" لم يستوعب التجربة، فقام الأستاذ بوضعه في مجموعة. قام زميله بشرح الخطوات له، فتمكن أنس من الفهم.`,
            highlight: `في درس الذوبان... <span class="highlight-yellow">أعطى التلاميذ كؤوساً وملحاً وطلب منهم التجريب بأنفسهم</span> (بنائية). تلميذ يدعى "أنس" لم يستوعب... فقام الأستاذ بوضعه في مجموعة. <span class="highlight-green">قام زميله بشرح الخطوات له، فتمكن أنس من الفهم</span> (بنائية اجتماعية).`,
            a1: "البنائية - البنائية الاجتماعية.",
            a2: "البنائية (بياجي) - الاجتماعية (فيجوتسكي).",
            a3: "نجح أنس في المجموعة بفضل 'الوساطة الاجتماعية' (مساعدة الزميل) التي مكنته من تجاوز عجزه الفردي (ZPD).",
            a4: "البنائية: تفاعل الذات مع الموضوع. الاجتماعية: تفاعل الذات مع الآخرين.",
            tbl: { p: "تعثر في الفهم الفردي", i: "لم يستوعب التجربة... تمكن من الفهم بمساعدة زميله", e: "أهمية المنطقة القريبة من التطور (ZPD)." }
        },
        {
            title: "تمرين 3: الرياضيات (الجشتالت)",
            text: `كان التلاميذ يدرسون الأضلاع والزوايا بشكل منفصل، فوجدوا صعوبة في إدراك مفهوم "المثلث". قام الأستاذ بتغيير الطريقة، فعرض عليهم الشكل الهندسي كاملاً أولاً، ثم طلب منهم تحليل عناصره، فحدث لهم فهم مفاجئ (استبصار) للعلاقة بين الأضلاع.`,
            highlight: `كان التلاميذ يدرسون الأضلاع والزوايا بشكل منفصل... قام الأستاذ بتغيير الطريقة، <span class="highlight-green">فعرض عليهم الشكل الهندسي كاملاً أولاً</span>، ثم طلب منهم تحليل عناصره، فحدث لهم <span class="highlight-green">فهم مفاجئ (استبصار)</span>.`,
            a1: "النظرية الجشتالتية.",
            a2: "كوهلر / كوفكا / فرتهيمر.",
            a3: "لأن العقل يدرك 'الكليات' (البنية) قبل 'الجزئيات'. الفهم يحدث دفعة واحدة (الاستبصار).",
            a4: "السلوكية: تجزيئية (من الجزء للكل). الجشتالتية: كلية (من الكل للجزء).",
            tbl: { p: "صعوبة الفهم التجزيئي", i: "وجدوا صعوبة في إدراك مفهوم المثلث (بشكل منفصل)", e: "الاستبصار يتطلب إدراك البنية الكلية." }
        },
        {
            title: "تمرين 4: المشروع (البراغماتية)",
            text: `وجد التلاميذ درس "الحفاظ على البيئة" مملاً نظرياً. اقترح الأستاذ مشروع "مدرسة نظيفة". قام التلاميذ بتوزيع الأدوار، والبحث عن حلول عملية، وصناعة سلات مهملات. الهدف هو ربط التعلم بالحياة وحل مشكلة واقعية.`,
            highlight: `وجد التلاميذ درس "الحفاظ على البيئة" مملاً نظرياً. اقترح الأستاذ <span class="highlight-green">مشروع "مدرسة نظيفة"</span>... الهدف هو <span class="highlight-green">ربط التعلم بالحياة وحل مشكلة واقعية</span>.`,
            a1: "الاتجاه البراغماتي (التربية التقدمية).",
            a2: "جون ديوي.",
            a3: "لأن المعرفة في هذا الاتجاه تستمد قيمتها من نفعها العملي (حل المشكلات).",
            a4: "التقليدية: تلقين نظري. البراغماتية: تعلم بالممارسة (Learning by doing).",
            tbl: { p: "سلبية المتعلم (الملل)", i: "درس نظري ممل... انخرطوا في مشروع", e: "التعلم بالمشروع (حل المشكلات)." }
        },
        {
            title: "تمرين 5: دراسة حالة الكسور (من PDF)",
            text: `في قسم السنة الرابعة ابتدائي، لاحظت الأستاذة "س" أن مجموعة من المتعلمين يواجهون صعوبة في فهم الكسور... حاولت الأستاذة في البداية اعتماد أسلوب قريب من النظرية السلوكية : تقسيم المهارات إلى خطوات صغيرة، تكرار تدريبات قصيرة، وتعزيز الإجابات الصحيحة... تحسن الأداء عند بعض المتعلمين في التمارين المتشابهة، لكن الأخطاء عادت عندما تغير شكل المسألة. بعد ذلك انتقلت إلى أنشطة أقرب إلى النظرية البنائية : جعلت المتعلمين يبنون المعنى عبر التجريب (قطع ورق / رسومات) والملاحظة، بحيث يكتشفون بأنفسهم مفهوم "الجزء من الكل". ثم نظمت عملاً تعاونياً وفق البنائية الاجتماعية... وخلال حصة حل مشكلات، لاحظت الأستاذة أن بعض المتعلمين... فهموها حين طلبت منهم رؤية "الوضعية ككل" ثم استخراج العلاقات، فحدث ما يشبه الاستبصار.`,
            highlight: `في قسم السنة الرابعة... حاولت الأستاذة في البداية اعتماد <span class="highlight-yellow">أسلوب قريب من النظرية السلوكية : تقسيم المهارات، تكرار، وتعزيز</span>... تحسن الأداء... لكن <span class="highlight-yellow">الأخطاء عادت عندما تغير شكل المسألة</span>. بعد ذلك انتقلت إلى أنشطة أقرب إلى النظرية البنائية : جعلت المتعلمين <span class="highlight-green">يبنون المعنى عبر التجريب (قطع ورق)</span>... ثم نظمت عملاً تعاونياً وفق البنائية الاجتماعية... فهموها حين طلبت منهم <span class="highlight-green">رؤية "الوضعية ككل"... فحدث ما يشبه الاستبصار</span>.`,
            a1: "السلوكية - البنائية - البنائية الاجتماعية - الجشتالتية.",
            a2: "السلوكية (سكنر) - البنائية (بياجي) - الاجتماعية (فيجوتسكي) - الجشتالت (كوهلر).",
            a3: "نجحت السلوكية في 'الآلية' (الحفظ) لكنها فشلت في 'الفهم' (بناء المعنى)، لهذا عاد الخطأ عند تغيير السياق.",
            a4: "البنائية: تعلم ذاتي (تجريب). الاجتماعية: تعلم تفاعلي (وساطة).",
            tbl: { p: "الحفظ دون فهم (تعلم شكلي)", i: "يحفظ القواعد لكنه يخطئ عند تطبيقها في وضعيات جديدة", e: "محدودية المقاربة السلوكية." }
        }
    ];

    let currentIdx = 0;

    function loadEx() {
        const data = db[currentIdx];
        
        // إعادة تعيين الصفحة
        document.getElementById('ex-title').innerText = data.title;
        document.getElementById('scenario-text').innerHTML = data.text; // النص العادي في البداية
        document.getElementById('progress').style.width = ((currentIdx + 1) * 20) + "%";
        
        // إخفاء التصحيحات والأزرار
        document.querySelectorAll('.correction-box').forEach(el => el.style.display = 'none');
        document.getElementById('checkBtn').style.display = 'block';
        document.getElementById('nextBtn').style.display = 'none';
        
        // تفريغ المدخلات
        document.querySelectorAll('textarea, input').forEach(el => el.value = '');
        
        window.scrollTo(0, 0);
    }

    function checkAnswers() {
        const data = db[currentIdx];
        
        // 1. تغيير النص إلى النص الملون (المؤشرات)
        document.getElementById('scenario-text').innerHTML = data.highlight;
        
        // 2. إظهار الإجابات النموذجية
        document.getElementById('ans1').innerText = data.a1;
        document.getElementById('ans2').innerText = data.a2;
        document.getElementById('ans3').innerText = data.a3;
        document.getElementById('ans4').innerText = data.a4;
        
        document.getElementById('tbl-p').innerText = data.tbl.p;
        document.getElementById('tbl-i').innerText = data.tbl.i;
        document.getElementById('tbl-e').innerText = data.tbl.e;
        
        document.querySelectorAll('.correction-box').forEach(el => el.style.display = 'block');
        
        // 3. تبديل الأزرار
        document.getElementById('checkBtn').style.display = 'none';
        document.getElementById('nextBtn').style.display = 'block';
        
        if (currentIdx === db.length - 1) {
            document.getElementById('nextBtn').innerText = "إنهاء السلسلة";
            document.getElementById('nextBtn').style.background = "#333";
        } else {
            document.getElementById('nextBtn').innerText = "التمرين التالي";
            document.getElementById('nextBtn').style.background = "#27ae60";
        }

        window.scrollTo(0, 0);
    }

    function nextExercise() {
        if (currentIdx < db.length - 1) {
            currentIdx++;
            loadEx();
        } else {
            alert("هنيئاً لك! لقد أتممت جميع التمارين بنجاح.");
        }
    }

    // تشغيل التمرين الأول
    loadEx();

</script>

</body>
</html>
